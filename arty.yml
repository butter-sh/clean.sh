name: "@butter.sh/clean.sh"
version: "1.0.0"
description: "A POSIX-compliant bash linter and formatter with AST-based parsing"
author: "valknar@pivoine.art"
license: "MIT"

references:
- https://github.com/butter-sh/leaf.sh.git
- https://github.com/butter-sh/judge.sh.git

main: "clean.sh"

scripts:
  lint: "./clean.sh lint clean.sh lib/*.sh __tests/*.sh"
  format: "./clean.sh format clean.sh lib/*.sh __tests/*.sh"
  test: "arty exec judge run"
  test/update: "arty exec judge run -u"
  test/setup: "arty exec judge setup"
  test/verbose: "arty exec judge run -v"
  test/ci: "TERM=linux arty exec judge run"
  docs: arty exec leaf docs --project-dir . --logo ./icon.svg --base-path clean.sh -o ./docs

clean:
  rules:
    max_line_length: 100
    indent_size: 2
    use_spaces: true
    use_double_brackets: true
    space_around_operators: true
    space_after_comma: true
    space_before_brace: true
    newline_before_pipe: false
    quote_variables: true
    lowercase_variables: false
    use_function_keyword: false

  severity:
    missing_quotes: warning
    line_length: warning
    deprecated_syntax: error
    spacing_issues: warning
    bracket_style: warning
    indentation: warning
